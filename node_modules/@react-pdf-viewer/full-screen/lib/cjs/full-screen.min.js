"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("@react-pdf-viewer/core");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l,r=t(e),u=function(){return r.default.createElement(n.Icon,{size:16},r.default.createElement("path",{d:"M10.515,9.514h3c0.552,0,1,0.448,1,1v3c0,0.552-0.448,1-1,1h-3c-0.552,0-1-0.448-1-1v-3\n                C9.515,9.962,9.963,9.514,10.515,9.514z\n                M0.531,23.499l6.984-6.985\n                M16.515,7.514L23.5,0.529\n                M21.515,7.514h-5v-5\n                M7.515,21.514v-5 h-5\n                M0.523,0.521l6.992,6.993\n                M16.515,16.514l6.985,6.985\n                M16.515,21.514v-5h5\n                M2.515,7.514h5v-5"}))},c=function(){return(c=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},a=function(){return r.default.createElement(n.Icon,{size:16},r.default.createElement("path",{d:"M15.5,8.499l8-8\n                M0.5,23.499l8-8\n                M5.5,23.499h-5v-5\n                M23.5,5.499v-5h-5\n                M15.5,15.499l8,8\n                M0.5,0.499l8,8\n                M0.5,5.499v-5h5\n                M18.5,23.499h5v-5"}))},i={left:0,top:8},o=function(t){var l=t.onClick,u=e.useContext(n.LocalizationContext),c=u&&u.fullScreen?u.fullScreen.enterFullScreen:"Full screen";return r.default.createElement(n.Tooltip,{position:n.Position.BottomCenter,target:r.default.createElement(n.Button,{onClick:l},r.default.createElement(a,null)),content:function(){return c},offset:i})};!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(l||(l={}));var s={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},f={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},d={ExitFullScreen:"msExitFullscreen",FullScreenChange:"MSFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},F="undefined"!=typeof window,E=F&&(l.FullScreenEnabled in document&&s||f.FullScreenEnabled in document&&f||d.FullScreenEnabled in document&&d)||s,S=function(e){return F?e[E.ExitFullScreen]():Promise.resolve({})},m=function(){return F?document[E.FullScreenElement]:null},v=function(n){var t=n.children,l=n.store,u=e.useRef(null),c=function(){var e=m();l.update("isFullScreen",e===u.current)},a=function(e){var n;u.current=e().current,n=c,F&&document.addEventListener(E.FullScreenChange,n)};e.useEffect((function(){return l.subscribe("getPagesRef",a),function(){l.unsubscribe("getPagesRef",a)}}),[]);return(t||function(e){return r.default.createElement(o,{onClick:e.onClick})})({onClick:function(){var e=u.current;e&&function(){var e=u.current;if(!e)return Promise.resolve();var n=m();return n&&n!==e?S(n):Promise.resolve()}().then((function(){var n;n=e,F&&n[E.RequestFullScreen]()}))}})},b=function(t){var l=t.store,c=e.useState(!1),a=c[0],i=c[1],o=function(e){i(e)};return e.useEffect((function(){return l.subscribe("isFullScreen",o),function(){l.unsubscribe("isFullScreen",o)}}),[]),r.default.createElement(r.default.Fragment,null,a&&r.default.createElement("div",{className:"rpv-full-screen-exit-button"},r.default.createElement("div",{className:"rpv-full-screen-exit-button-inner"},r.default.createElement(n.Button,{onClick:function(){i(!1);var e=l.get("getPagesRef");if(e){var n=e().current;if(n){var t=m();t&&t===n&&S(document)}}}},r.default.createElement(u,null)))))};exports.ExitFullScreenIcon=u,exports.FullScreenIcon=a,exports.fullScreenPlugin=function(){var e=n.createStore({}),t=function(n){return r.default.createElement(v,c({},n,{store:e}))},l=function(){return r.default.createElement(b,{store:e})};return{install:function(n){e.update("getPagesRef",n.getPagesRef)},renderViewer:function(e){var n=e.slot;return n.subSlot&&(n.subSlot.children=r.default.createElement(r.default.Fragment,null,r.default.createElement(l,null),n.subSlot.children)),n},EnterFullScreen:t,EnterFullScreenButton:function(){return r.default.createElement(t,null,(function(e){return r.default.createElement(o,c({},e))}))}}};
