"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@react-pdf-viewer/core");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(e),r=function(){return o.default.createElement(t.Icon,{size:16},o.default.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n                M23.5,23.499\n                l-5.929-5.929\n                M5.5,10.499h10\n                M10.5,5.499v10"}))},u=function(){return o.default.createElement(t.Icon,{size:16},o.default.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n                M23.5,23.499\n                l-5.929-5.929\n                M5.5,10.499h10"}))},a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(t){var n=e.useState(0),o=n[0],r=n[1],u=function(e){r(e)};return e.useEffect((function(){return t.subscribe("scale",u),function(){t.unsubscribe("scale",u)}}),[]),{scale:o}},l=function(e){var t=e.children,n=e.store;return(t||function(e){return o.default.createElement(o.default.Fragment,null,Math.round(100*e.scale)+"%")})({scale:c(n).scale})},i=[.5,.75,1,1.25,1.5,2,3,4],f={left:0,top:8},m=function(n){var r=n.scale,u=n.onZoom,a=e.useContext(t.LocalizationContext);return o.default.createElement(t.Popover,{position:t.Position.BottomCenter,target:function(e){return o.default.createElement("span",{className:"rpv-zoom-popover-target",onClick:function(){e()}},o.default.createElement("span",{className:"rpv-zoom-popover-target-scale"},Math.round(100*r),"%"),o.default.createElement("span",{className:"rpv-zoom-popover-target-arrow"}))},content:function(e){return o.default.createElement(t.Menu,null,Object.keys(t.SpecialZoomLevel).map((function(n){var r=n;return o.default.createElement(t.MenuItem,{key:r,onClick:function(){e(),u(r)}},function(e){switch(e){case t.SpecialZoomLevel.ActualSize:return a&&a.zoom?a.zoom.actualSize:"Actual size";case t.SpecialZoomLevel.PageFit:return a&&a.zoom?a.zoom.pageFit:"Page fit";case t.SpecialZoomLevel.PageWidth:return a&&a.zoom?a.zoom.pageWidth:"Page width"}}(r))})),o.default.createElement(t.MenuDivider,null),i.map((function(n){return o.default.createElement(t.MenuItem,{key:n,onClick:function(){e(),u(n)}},Math.round(100*n)+"%")})))},offset:f,closeOnClickOutside:!0,closeOnEscape:!0})},s=function(e){var t=e.children,n=e.store;return(t||function(e){return o.default.createElement(m,{scale:e.scale,onZoom:e.onZoom})})({scale:c(n).scale,onZoom:function(e){var t=n.get("zoom");t&&t(e)}})},d={left:0,top:8},p=function(n){var u=n.onClick,a=e.useContext(t.LocalizationContext),c=a&&a.zoom?a.zoom.zoomIn:"Zoom in";return o.default.createElement(t.Tooltip,{position:t.Position.BottomCenter,target:o.default.createElement(t.Button,{onClick:u},o.default.createElement(r,null)),content:function(){return c},offset:d})},E=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],v=function(e){var t=e.children,n=e.store,r=c(n).scale;return(t||function(e){return o.default.createElement(p,{onClick:e.onClick})})({onClick:function(){var e,t=n.get("zoom");t&&t((e=r,E.find((function(t){return t>e}))||e))}})},z={left:0,top:8},C=function(n){var r=n.onClick,a=e.useContext(t.LocalizationContext),c=a&&a.zoom?a.zoom.zoomOut:"Zoom out";return o.default.createElement(t.Tooltip,{position:t.Position.BottomCenter,target:o.default.createElement(t.Button,{onClick:r},o.default.createElement(u,null)),content:function(){return c},offset:z})},g=function(e){var t=e.children,n=e.store,r=c(n).scale;return(t||function(e){return o.default.createElement(C,{onClick:e.onClick})})({onClick:function(){var e,t,o=n.get("zoom");o&&o((e=r,-1===(t=E.findIndex((function(t){return t>=e})))||0===t?e:E[t-1]))}})};exports.ZoomInIcon=r,exports.ZoomOutIcon=u,exports.zoomPlugin=function(){var e=t.createStore({}),n=function(t){return o.default.createElement(v,a({},t,{store:e}))},r=function(t){return o.default.createElement(g,a({},t,{store:e}))},u=function(t){return o.default.createElement(s,a({},t,{store:e}))};return{install:function(t){e.update("zoom",t.zoom)},onViewerStateChange:function(t){return e.update("scale",t.scale),t},CurrentScale:function(t){return o.default.createElement(l,a({},t,{store:e}))},ZoomIn:n,ZoomInButton:function(){return o.default.createElement(n,null,(function(e){return o.default.createElement(p,a({},e))}))},ZoomOut:r,ZoomOutButton:function(){return o.default.createElement(r,null,(function(e){return o.default.createElement(C,a({},e))}))},Zoom:u,ZoomPopover:function(){return o.default.createElement(u,null,(function(e){return o.default.createElement(m,a({},e))}))}}};
